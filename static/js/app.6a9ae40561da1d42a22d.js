webpackJsonp([1],{"7zck":function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("/5sW"),i={data:function(){return{drawer:!1}},computed:{menuItems:function(){var t=[{title:"Sign up",icon:"face",link:"/signup"},{title:"Sign in",icon:"lock_open",link:"/signin"}];return this.isLoggedUser&&(t=[{title:"View Meetups",icon:"supervisor_account",link:"/meetups"},{title:"Organize Meetup",icon:"room",link:"/meetup/new"},{title:"Profile",icon:"person",link:"/profile"}]),t},isLoggedUser:function(){return null!==this.$store.getters.user&&void 0!=this.$store.getters.user},loading:function(){return this.$store.getters.loading}},methods:{onLogout:function(){this.$store.dispatch("logout"),this.$router.push("/signin")}}},n={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"devmeetups"}},[r("v-navigation-drawer",{attrs:{temporary:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list",{attrs:{dense:""}},[t._l(t.menuItems,function(e){return r("v-list-tile",{key:e.title,attrs:{to:e.link}},[r("v-list-tile-action",[r("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),r("v-list-tile-content",[r("v-list-tile-title",[t._v(t._s(e.title))])],1)],1)}),t._v(" "),t.isLoggedUser?r("v-list-tile",{on:{click:t.onLogout}},[r("v-list-tile-action",[r("v-icon",[t._v("exit_to_app")])],1),t._v(" "),r("v-list-tile-content",[r("v-list-tile-title",[t._v("Logout")])],1)],1):t._e()],2)],1),t._v(" "),r("v-toolbar",{attrs:{color:"indigo",dark:"",fixed:"",app:""}},[r("v-toolbar-side-icon",{staticClass:"hidden-sm-and-up",on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),r("v-toolbar-title",[r("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"span"}},[t._v("Dev Meetups")])],1),t._v(" "),r("v-spacer"),t._v(" "),r("v-toolbar-items",{staticClass:"hidden-xs-only"},[t._l(t.menuItems,function(e){return r("v-btn",{key:e.title,attrs:{flat:"",to:e.link}},[r("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v("\n        "+t._s(e.title)+"\n      ")],1)}),t._v(" "),t.isLoggedUser?r("v-btn",{attrs:{flat:""},on:{click:t.onLogout}},[r("v-icon",{attrs:{left:""}},[t._v("exit_to_app")]),t._v("\n        Logout\n      ")],1):t._e()],2)],1),t._v(" "),r("v-content",[r("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticStyle:{top:"-15px"},attrs:{indeterminate:!0,color:"indigo"}}),t._v(" "),r("router-view")],1),t._v(" "),r("v-footer",{attrs:{color:"indigo",app:""}},[r("span",{staticClass:"white--text"},[t._v("Â© 2018")])])],1)},staticRenderFns:[]},a=r("VU/8")(i,n,!1,null,null,null).exports,o=r("/ocq"),l={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"text-xs-center text-sm-right",attrs:{xs12:"",sm6:""}},[r("v-btn",{attrs:{color:"indigo lighten-4",to:"/meetups"}},[t._v("View Meetups")])],1),t._v(" "),r("v-flex",{staticClass:"text-xs-center text-sm-left",attrs:{xs12:"",sm6:""}},[r("v-btn",{attrs:{color:"indigo lighten-4",to:"/meetup/new"}},[t._v("Organize Meetup")])],1)],1),t._v(" "),t.loading?t._e():r("v-layout",{staticClass:"mt-2",attrs:{row:"",wrap:""}},[r("v-carousel",{attrs:{height:"300"}},t._l(t.meetups,function(e,s){return r("v-carousel-item",{key:s,staticStyle:{cursor:"pointer"},attrs:{src:e.imageUrl},on:{click:function(r){t.openMeetup(e.id)}}},[r("div",{staticClass:"title"},[t._v(t._s(e.title))])])}))],1),t._v(" "),r("v-layout",{staticClass:"mt-2",attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[t._v("\n\t      Join our awesome meetups!\n\t    ")])],1)],1)},staticRenderFns:[]};var u=r("VU/8")({computed:{meetups:function(){return this.$store.getters.featuredLoadedMeetups},loading:function(){return this.$store.getters.loading}},methods:{openMeetup:function(t){this.$router.push("/meetups/"+t)}}},l,!1,function(t){r("UCIQ")},"data-v-538d46de",null).exports,c={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",t._l(t.meetups,function(e){return t.loading?t._e():r("v-layout",{key:e.title,staticClass:"mb-2",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm10:"",md8:"","offset-sm1":"","offset-md2":""}},[r("v-card",[r("v-container",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs5:""}},[r("v-img",{attrs:{height:"130px",src:e.imageUrl}})],1),t._v(" "),r("v-flex",{attrs:{xs7:""}},[r("v-card-title",[r("div",[r("span",{staticClass:"grey--text"},[t._v(t._s(e.title)+" at "+t._s(t._f("date")(e.date)))]),r("br"),t._v(" "),r("span",[t._v(t._s(e.location))]),r("br"),t._v(" "),r("span",[t._v(t._s(e.description.substring(0,100)))])])]),t._v(" "),r("v-card-actions",[r("v-btn",{attrs:{flat:"",color:"orange",to:"/meetups/"+e.id}},[t._v("\n                    View Meetup\n                  ")])],1)],1)],1)],1)],1)],1)],1)}))},staticRenderFns:[]},d=r("VU/8")({computed:{meetups:function(){return this.$store.getters.loadedMeetups},loading:function(){return this.$store.getters.loading}}},c,!1,null,null,null).exports,p={data:function(){return{title:"",location:"",date:(new Date).toISOString().slice(0,10),time:(new Date).toISOString().slice(11,16),image:null,imageUrl:"",description:""}},computed:{isValidForm:function(){return""!==this.title&&""!==this.location&&""!=this.date&&""!=this.description}},methods:{onPickFile:function(){this.$refs.imageFile.click()},onFilePicked:function(t){var e=this,r=t.target.files;if(r[0].name.lastIndexOf(".")<=0)return alert("Please add a valid file!");var s=new FileReader;s.addEventListener("load",function(){e.imageUrl=s.result}),s.readAsDataURL(r[0]),this.image=r[0]},onCreateMeetup:function(){var t={title:this.title,location:this.location,date:this.date+" "+this.time,description:this.description,image:this.image};this.$store.dispatch("createMeetup",t),this.$router.push("/meetups")}}},v={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("h1",[t._v("Create new Meetup")])])],1),t._v(" "),r("v-form",{on:{submit:function(e){return e.preventDefault(),t.onCreateMeetup(e)}}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-text-field",{attrs:{name:"title",label:"Title",id:"title",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-text-field",{attrs:{name:"location",label:"Location",id:"location",required:""},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-btn",{attrs:{color:"indigo lighten-1"},on:{click:t.onPickFile}},[t._v("Upload Image")]),t._v(" "),r("input",{ref:"imageFile",staticStyle:{display:"none"},attrs:{type:"file",name:""},on:{change:t.onFilePicked}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("img",{attrs:{src:t.imageUrl,width:"300px"}})])],1),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-textarea",{attrs:{name:"description",label:"Description",id:"description",required:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-date-picker",{attrs:{color:"indigo"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-time-picker",{attrs:{format:"24hr"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)],1),t._v(" "),r("v-layout",{staticClass:"mt-2",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-btn",{attrs:{color:"indigo lighten-4",disabled:!t.isValidForm,type:"submit"}},[t._v("Create Meetup")])],1)],1)],1)],1)},staticRenderFns:[]},m=r("VU/8")(p,v,!1,null,null,null).exports,f={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-btn",{attrs:{slot:"activator",color:"primary",flat:""},slot:"activator"},[t._v("Edit")]),t._v(" "),r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Edit Meetup")]),t._v(" "),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{name:"title",label:"Title",id:"title",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{name:"location",label:"Location",id:"location",required:""},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-textarea",{attrs:{name:"description",label:"Description",id:"description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1)],1)],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")]),t._v(" "),r("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:t.onSave}},[t._v("Save")])],1)],1)],1)},staticRenderFns:[]},g={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{persistent:"","max-width":"300"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.isRegisted?r("v-btn",{attrs:{slot:"activator",color:"orange",flat:""},slot:"activator"},[t._v("Unregister")]):r("v-btn",{attrs:{slot:"activator",color:"primary",flat:""},slot:"activator"},[t._v("Register")]),t._v(" "),r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v(t._s(t.isRegisted?"Unregister":"Register"))]),t._v(" "),r("v-card-text",[t._v("\n      Are you sure?\n    ")]),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")]),t._v(" "),r("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:t.onConfirm}},[t._v("Confirm")])],1)],1)],1)},staticRenderFns:[]},h={components:{EditMeetupDialog:r("VU/8")({props:["meetup"],data:function(){return{dialog:!1,title:this.meetup.title,location:this.meetup.location,description:this.meetup.description}},methods:{onSave:function(){this.dialog=!1;var t={id:this.meetup.id,title:this.title,location:this.location,description:this.description};this.$store.dispatch("updateMeetup",t)}}},f,!1,null,null,null).exports,RegisterDialog:r("VU/8")({props:["meetup"],data:function(){return{dialog:!1}},computed:{isRegisted:function(){var t=this;return this.$store.getters.user.registeredMeetups.findIndex(function(e){return e==t.meetup.id})>=0}},methods:{onConfirm:function(){this.dialog=!1,this.isRegisted?this.$store.dispatch("unregisterMeetup",this.meetup.id):this.$store.dispatch("registerMeetup",this.meetup.id)}}},g,!1,null,null,null).exports},props:["id"],computed:{meetup:function(){return this.$store.getters.loadedMeetup(this.id)},loading:function(){return this.$store.getters.loading},user:function(){return this.$store.getters.user},userIsLogged:function(){return null!=this.$store.getters.user&&void 0!=this.$store.getters.user}}},_={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.loading?t._e():r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card",[r("v-img",{attrs:{src:t.meetup.imageUrl,"aspect-ratio":"2.75"}}),t._v(" "),r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("h3",{staticClass:"headline mb-0"},[t._v(t._s(t.meetup.title)+" at "+t._s(t.meetup.date))]),t._v(" "),r("div",[r("i",[t._v(t._s(t.meetup.location))])]),t._v(" "),r("nl2br",{attrs:{tag:"p",text:t.meetup.description}})],1)]),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),t.userIsLogged&&t.meetup.creatorId===t.user.id?r("edit-meetup-dialog",{attrs:{meetup:t.meetup}}):t._e(),t._v(" "),t.userIsLogged&&t.meetup.creatorId!==t.user.id?r("register-dialog",{attrs:{meetup:t.meetup}}):t._e()],1)],1)],1)],1)],1)},staticRenderFns:[]},w=r("VU/8")(h,_,!1,null,null,null).exports,x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs12:""}},[this._v("\n      Profile\n    ")])],1)],1)},staticRenderFns:[]},b=r("VU/8")(null,x,!1,null,null,null).exports,y={data:function(){return{email:"",password:"",confirmPassword:""}},computed:{comparePasswords:function(){return this.password!==this.confirmPassword?"Password do not match":""},user:function(){return this.$store.getters.user},error:function(){return this.$store.getters.error}},methods:{onSignup:function(){var t={email:this.email,password:this.password};this.$store.dispatch("signUpUser",t)},onDismissed:function(){this.$store.dispatch("clearError")}},watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/")}}},M={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.error?r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("app-alert",{attrs:{message:t.error.message},on:{dismissed:t.onDismissed}})],1)],1):t._e(),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-card",[r("v-card-text",[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.onSignup(e)}}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{name:"email",label:"Email",id:"email",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{name:"password",label:"Password",id:"password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{name:"confirmPassword",label:"Confirm Password",id:"confirmPassword",type:"password",rules:[t.comparePasswords]},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-btn",{attrs:{color:"indigo lighten-4",type:"submit"}},[t._v("Sign Up")])],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},k=r("VU/8")(y,M,!1,null,null,null).exports,L={data:function(){return{email:"",password:""}},computed:{user:function(){return this.$store.getters.user},loading:function(){return this.$store.getters.loading},error:function(){return this.$store.getters.error}},methods:{onSignin:function(){var t={email:this.email,password:this.password};this.$store.dispatch("signInUser",t)},onDismissed:function(){this.$store.dispatch("clearError")}},watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/")}}},$={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.error?r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("app-alert",{attrs:{message:t.error.message},on:{dismissed:t.onDismissed}})],1)],1):t._e(),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-card",[r("v-card-text",[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.onSignin(e)}}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{name:"email",label:"Email",id:"email",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{name:"password",label:"Password",id:"password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-btn",{attrs:{color:"indigo lighten-4",type:"submit"}},[t._v("Sign In")])],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},U=r("VU/8")(L,$,!1,null,null,null).exports,E=r("NYxO"),I=r("Dd8w"),C=r.n(I),S=r("yviF"),P={state:{loadedMeetups:[{id:"fsf3342sgdrtkjke3",title:"In Hanoi",location:"Hoan Kiem - Hanoi",date:"2018-11-28 09:00",imageUrl:"http://static.asiawebdirect.com/m/bangkok/portals/vietnam/homepage/hanoi/first-time/pagePropertiesImage/hanoi.jpg.jpg",description:"Javascript Meetup"},{id:"jfjskfjsfji3i34343",title:"In Saigon",location:"Quan 1 - Saigon",date:"2018-11-30 14:00",imageUrl:"http://static.asiawebdirect.com/m/bangkok/portals/vietnam/homepage/hanoi/pagePropertiesOgImage/teaser_006.jpg.jpg",description:"NodeJS Meetup"}]},mutations:{setLoadedMeetups:function(t,e){t.loadedMeetups=e},createMeetup:function(t,e){t.loadedMeetups.push(e)},updateMeetup:function(t,e){var r=t.loadedMeetups.find(function(t){return t.id===e.id});e.title&&(r.title=e.title),e.description&&(r.description=e.description),e.date&&(r.date=e.date)}},actions:{loadedMeetups:function(t){var e=t.commit;e("setLoading",!0),S.database().ref("meetups").once("value").then(function(t){var r=[],s=t.val();for(var i in s)r.push(C()({id:i},s[i]));e("setLoadedMeetups",r),e("setLoading",!1)}).catch(function(t){e("setLoading",!1),e("setError",t),console.error(t)})},createMeetup:function(t,e){var r=t.commit,s=t.getters;r("setLoading",!0);var i={title:e.title,location:e.location,description:e.description,date:e.date,creatorId:s.user.id},n=void 0,a=void 0;S.database().ref("meetups").push(i).then(function(t){n=t.key}).then(function(){var t=e.image.name,r=t.slice(t.lastIndexOf("."));return S.storage().ref("meetups/"+n+"."+r).put(e.image)}).then(function(t){return t.ref.getDownloadURL()}).then(function(t){return a=t,S.database().ref("meetups").child(n).update({imageUrl:a})}).then(function(){r("setLoading",!1),r("createMeetup",C()({},i,{id:n,imageUrl:a}))}).catch(function(t){r("setLoading",!1),r("setError",t),console.error(t)})},updateMeetup:function(t,e){var r=t.commit;r("setLoading",!0);var s={title:e.title,location:e.location,description:e.description};S.database().ref("meetups").child(e.id).update(s).then(function(){r("setLoading",!1),r("updateMeetup",e)}).catch(function(t){r("setLoading",!1),r("setError",t),console.error(t)})}},getters:{loadedMeetups:function(t){return t.loadedMeetups.sort(function(t,e){return t.date<e.date})},featuredLoadedMeetups:function(t,e){return e.loadedMeetups.slice(0,5)},loadedMeetup:function(t){return function(e){return t.loadedMeetups.find(function(t){return t.id==e})}}}},R=r("uqrR"),F=r.n(R),D={state:{user:null},mutations:{setUser:function(t,e){t.user=e},registerMeetup:function(t,e){t.user.registeredMeetups.push(e.meetupId),t.user.fbKeys[e.meetupId]=e.fbKey},unregisterMeetup:function(t,e){var r=t.user.registeredMeetups.findIndex(function(t){return t===e});t.user.registeredMeetups.splice(r,1),F()(t.user.fbKeys,e)},loadRegisteredMeetups:function(t,e){t.user=C()({},t.user,e)}},actions:{signUpUser:function(t,e){var r=t.commit;r("setLoading",!0),S.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){r("setLoading",!1);var e={id:t.user.uid,registeredMeetups:[],fbKeys:{}};r("setUser",e)}).catch(function(t){r("setLoading",!1),r("setError",t),console.error(t)})},signInUser:function(t,e){var r=t.commit;r("setLoading",!0),S.auth().signInWithEmailAndPassword(e.email,e.password).then(function(t){r("setLoading",!1);var e={id:t.user.uid,registeredMeetups:[],fbKeys:{}};r("setUser",e)}).catch(function(t){r("setLoading",!1),r("setError",t),console.error(t)})},autoSignIn:function(t,e){(0,t.commit)("setUser",{id:e.uid,registeredMeetups:[],fbKeys:{}})},logout:function(t){var e=t.commit;S.auth().signOut(),e("setUser",null)},registerMeetup:function(t,e){var r=t.commit,s=t.getters;r("setLoading",!0),S.database().ref("users/"+s.user.id+"/registrations").push(e).then(function(t){r("setLoading",!1),r("registerMeetup",{meetupId:e,fbKey:t.key})}).catch(function(t){console.error(t),r("setLoading",!1)})},unregisterMeetup:function(t,e){var r=t.commit,s=t.getters;r("setLoading",!0),S.database().ref("users/"+s.user.id+"/registrations").child(s.user.fbKeys[e]).remove().then(function(t){r("setLoading",!1),r("unregisterMeetup",e)}).catch(function(t){console.error(t),r("setLoading",!1)})},loadRegisteredMeetups:function(t){var e=t.commit,r=t.getters;e("setLoading",!0),S.database().ref("users/"+r.user.id+"/registrations").once("value").then(function(t){var r=t.val(),s=[],i={};for(var n in r)s.push(r[n]),i[r[n]]=n;e("setLoading",!1),e("loadRegisteredMeetups",{registeredMeetups:s,fbKeys:i})}).catch(function(t){console.error(t),e("setLoading",!1)})}},getters:{user:function(t){return t.user}}};s.default.use(E.a);var V=new E.a.Store({modules:{meetup:P,user:D,shared:{state:{loading:!1,error:null},mutations:{setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},actions:{clearError:function(t){(0,t.commit)("clearError")}},getters:{loading:function(t){return t.loading},error:function(t){return t.error}}}}}),j=function(t,e,r){V.getters.user?r():r("/signin")};s.default.use(o.a);var q=new o.a({routes:[{path:"/",name:"Home",component:u},{path:"/meetups",name:"Meetups",component:d},{path:"/meetup/new",name:"NewMeetup",component:m,beforeEnter:j},{path:"/meetups/:id",name:"Meetup",props:!0,component:w},{path:"/profile",name:"Profile",component:b,beforeEnter:j},{path:"/signup",name:"Signup",component:k},{path:"/signin",name:"Signin",component:U}]}),K=r("3EgV"),O=r.n(K),z=(r("7zck"),r("dih4"),r("hZls"),r("cWbj"),{render:function(){var t=this.$createElement;return(this._self._c||t)("v-alert",{attrs:{dismissible:"",type:"error",value:!0},on:{input:this.onClose}},[this._v("\n    "+this._s(this.message)+"\n  ")])},staticRenderFns:[]}),A=r("VU/8")({props:["message"],methods:{onClose:function(){this.$emit("dismissed")}}},z,!1,null,null,null).exports,N=r("j93a"),H=r.n(N);s.default.use(O.a),s.default.filter("date",function(t){return new Date(t).toLocaleString(["en-US"],{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s.default.component("app-alert",A),s.default.component("nl2br",H.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:q,store:V,render:function(t){return t(a)},created:function(){var t=this;S.initializeApp({apiKey:"AIzaSyCXsMyzWcBFDq7zKzj__hFATiN9hcwuACY",authDomain:"dev-meetups-6a620.firebaseapp.com",databaseURL:"https://dev-meetups-6a620.firebaseio.com",projectId:"dev-meetups-6a620",storageBucket:"gs://dev-meetups-6a620.appspot.com"}),S.auth().onAuthStateChanged(function(e){e&&(t.$store.dispatch("autoSignIn",e),t.$store.dispatch("loadRegisteredMeetups"))})&&this.$store.dispatch("loadedMeetups")}})},UCIQ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6a9ae40561da1d42a22d.js.map